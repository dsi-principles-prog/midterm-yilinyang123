---
title: "30-feature-engineering"
output: html_notebook
---

**function 1**

Given a month, some countries are more likely to be visited owing to seasonality in terms of weather/festivals. The travel destination for different countries could depend on the month. Given a month, some countries are more likely to be visited owing to seasonality in terms of weather/festivals.

input: date_first_booking

output: the month of the date

```{r function1}
calc_month <- function (df,var) {
  df %>% 
    mutate(month=months({{var}}))
}

```


**function 2**
The absence of date_first_booking means the destination is NDF(no destination found), thus we could add a column to indicate if there is a booking record. Then in prediction, we could eliminate the entries without booking record, and predicted the output, to be NDF.

input: date first booking

output: 1(with booking record)
        0(without booking record)

```{r function2}
booking_record <- function (df,var) {
  df %>% 
    mutate(booking_or_not=case_when(
      is.na({{var}}) ~ 0,
      TRUE ~ 1)
    ) 
}

```

**function 3**

```{r histogram of age}
dest_new <- dest[!is.na(dest$date_first_booking) & dest$age<120 & !is.na(dest$age),]
hist(dest_new$age,xlab="age",main="histogram of user age")
```

From this histogram, we could see that most user that actually booked a trip is under 40, thus we could add a dummy variable to indicate if the age is under 40 or not. Let 1 be age under 40 and 0 be age above 40.

```{r function3}
age_dummy <- function (df,var) {
  
}

```

**function 4**

The date first booking on which day of week will also affect the travel destination. Let's set a function that given date first booking, returns the day of the week you were born on.\
The

```{r}
day_of_week <-function(df,var){
 
}


```