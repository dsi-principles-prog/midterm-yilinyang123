---
title: "30-feature-engineering"
output: html_notebook
---

**function 1**

Given a month, some countries are more likely to be visited owing to seasonality in terms of weather/festivals. The travel destination for different countries could depend on the month. Given a month, some countries are more likely to be visited owing to seasonality in terms of weather/festivals.

input: data frame & variable

output: the month of the variable

```{r function1}
calc_month <- function (df,var) {
  df %>% 
    mutate(month=months({{var}}))
}

```

**function 2**

```{r histogram of age}
dest_new <- dest[!is.na(dest$date_first_booking) & dest$age<120 & !is.na(dest$age),]
hist(dest_new$age,xlab="age",main="histogram of user age")
```

From this histogram, we could see that most user that actually booked a trip is under 40, thus we could add a dummy variable to indicate if the age is under 40 or not. Let 1 be age under 40 and 0 be age above 40.

input: data frame, variable

output: 1(variable under or equal 40); 0(variable above 40)

```{r function2}
age_dummy <- function (df,var) {
  df %>% 
    mutate(age_under_40=as.integer({{var}} <=40))
}

```

**function 3**

The absence of date_first_booking means the destination is NDF(no destination found), thus we could add a column to indicate if there is a booking record. Then in prediction, we could eliminate the entries without booking record, and predicted the output, to be NDF.

input: data frame, variable

output: 1(variable is not NA); 0(variable is NA)

```{r function3}
booking_record <- function (df,var) {
  
}

```


**function 4**

The date first booking on which day of the week will also affect the travel destination. Let's set a function that given date first booking, returns the day of the week of the date.

input: data frame, variable

output: the day of the week of the variable

```{r function4}
day_of_week <-function(df,var){
 
}

```